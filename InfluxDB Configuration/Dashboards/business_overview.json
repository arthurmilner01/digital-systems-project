[{"apiVersion":"influxdata.com/v2alpha1","kind":"Dashboard","metadata":{"name":"adventuring-bouman-965001"},"spec":{"charts":[{"colors":[{"id":"base","name":"white","type":"text","hex":"#ffffff"}],"decimalPlaces":2,"height":3,"kind":"Single_Stat","name":"Target Revenue","note":"-----------\n\n\n# **£200**\n","noteOnEmpty":true,"prefix":"$","queries":[{"query":"import \"experimental/date/boundaries\"\n\nday = boundaries.yesterday()\n\nfrom(bucket: \"dispense_data\")\n  |> range(start: day.start, stop: day.stop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"dispenses\" and r[\"_field\"] == \"cost\")\n  |> group(columns: [])\n  |> sum()"}],"staticLegend":{},"width":2},{"colors":[{"id":"base","name":"curacao","type":"background","hex":"#F95F53"},{"id":"9EX1SOE_5MYT-xGofymtT","name":"curacao","type":"background","hex":"#F95F53","value":40},{"id":"Yiycr3xaFIJRqj0_6gkdI","name":"pepper","type":"background","hex":"#383846","value":180},{"id":"XtRapyDaVWYaRIRIsPJXb","name":"viridian","type":"background","hex":"#32B08C","value":200}],"decimalPlaces":2,"height":3,"kind":"Single_Stat","name":"Today's Revenue","prefix":"£","queries":[{"query":"from(bucket: \"dispense_data\")\n  |> range(start: today())\n  |> filter(fn: (r) => r[\"_measurement\"] == \"dispenses\" and r[\"_field\"] == \"cost\")\n  |> group(columns: [])\n  |> sum()"}],"staticLegend":{},"width":2,"yPos":3},{"colors":[{"id":"base","name":"white","type":"text","hex":"#ffffff"}],"decimalPlaces":2,"height":3,"kind":"Single_Stat","name":"Target Stock","note":"-----------\n\n\n# **10000g**\n","noteOnEmpty":true,"queries":[{"query":"import \"experimental/date/boundaries\"\n\nday = boundaries.yesterday()\n\nfrom(bucket: \"dispense_data\")\n  |> range(start: day.start, stop: day.stop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"dispenses\" and r[\"_field\"] == \"weight\")\n  |> group(columns: [])\n  |> sum()"}],"staticLegend":{},"suffix":"g","width":2,"xPos":2},{"colors":[{"id":"base","name":"curacao","type":"background","hex":"#F95F53"},{"id":"9EX1SOE_5MYT-xGofymtT","name":"curacao","type":"background","hex":"#F95F53","value":3000},{"id":"Yiycr3xaFIJRqj0_6gkdI","name":"pineapple","type":"background","hex":"#FFB94A","value":5000},{"id":"XtRapyDaVWYaRIRIsPJXb","name":"viridian","type":"background","hex":"#32B08C","value":10000}],"decimalPlaces":0,"height":3,"kind":"Single_Stat","name":"Today's Stock Sold","queries":[{"query":"from(bucket: \"dispense_data\")\n  |> range(start: today())\n  |> filter(fn: (r) => r[\"_measurement\"] == \"dispenses\" and r[\"_field\"] == \"weight\")\n  |> group(columns: [])\n  |> sum()"}],"staticLegend":{},"suffix":"g","width":2,"xPos":2,"yPos":3},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","label":"Total Revenue","name":"y","prefix":"£","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"UoBYxC4gZbJOo5RMYomcC","name":"Do Androids Dream of Electric Sheep?","type":"scale","hex":"#8F8AF4"},{"id":"E5ci-gmP-n27OqSjC_PgX","name":"Do Androids Dream of Electric Sheep?","type":"scale","hex":"#A51414"},{"id":"d-VwCqI0JP1gqe6YDMrwr","name":"Do Androids Dream of Electric Sheep?","type":"scale","hex":"#F4CF31"}],"generateXAxisTicks":["xTotalTicks","xTickStep"],"geom":"line","height":5,"heightRatio":0.2,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Today's Revenue by Hour","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"import \"experimental\"\nimport \"date\"\n\nstartTime = experimental.addDuration(\n  to: date.truncate(t: now(), unit: 1d),\n  d: 7h\n)\nstopTime = experimental.addDuration(\n  to: date.truncate(t: now(), unit: 1d),\n  d: 18h\n)\n\n\nfrom(bucket: \"dispense_data\")\n  |> range(start: startTime, stop: stopTime )\n  |> filter(fn: (r) => r[\"_measurement\"] == \"dispenses\")\n  |> filter(fn: (r) => r[\"_field\"] == \"weight\")\n  |> group(columns: [\"_measurement\"])\n  |> aggregateWindow(every: 1h, fn: sum, createEmpty: true)"}],"shade":true,"staticLegend":{"colorizeRows":true,"heightRatio":0.2,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":4,"widthRatio":1,"xCol":"_time","xPos":4,"xTickStep":3600000,"xTotalTicks":10,"yCol":"_value"},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","label":"Total Weight","name":"y","scale":"linear","suffix":"g"}],"colorizeRows":true,"colors":[{"id":"UoBYxC4gZbJOo5RMYomcC","name":"Do Androids Dream of Electric Sheep?","type":"scale","hex":"#8F8AF4"},{"id":"E5ci-gmP-n27OqSjC_PgX","name":"Do Androids Dream of Electric Sheep?","type":"scale","hex":"#A51414"},{"id":"d-VwCqI0JP1gqe6YDMrwr","name":"Do Androids Dream of Electric Sheep?","type":"scale","hex":"#F4CF31"}],"generateXAxisTicks":["xTickStep","xTotalTicks"],"geom":"line","height":5,"heightRatio":0.2,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Today's Stock by Hour","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"import \"experimental\"\nimport \"date\"\n\nstartTime = experimental.addDuration(\n  to: date.truncate(t: now(), unit: 1d),\n  d: 7h\n)\nstopTime = experimental.addDuration(\n  to: date.truncate(t: now(), unit: 1d),\n  d: 18h\n)\n\n\nfrom(bucket: \"dispense_data\")\n  |> range(start: startTime, stop: stopTime )\n  |> filter(fn: (r) => r[\"_measurement\"] == \"dispenses\")\n  |> filter(fn: (r) => r[\"_field\"] == \"weight\")\n  |> group(columns: [\"_measurement\"])\n  |> aggregateWindow(every: 1h, fn: sum, createEmpty: true)"}],"shade":true,"staticLegend":{"colorizeRows":true,"heightRatio":0.2,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":4,"widthRatio":1,"xCol":"_time","xPos":4,"xTickStep":3600000,"xTotalTicks":10,"yCol":"_value","yPos":5},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","label":"Total Revenue","name":"y","prefix":"£","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"UoBYxC4gZbJOo5RMYomcC","name":"Do Androids Dream of Electric Sheep?","type":"scale","hex":"#8F8AF4"},{"id":"E5ci-gmP-n27OqSjC_PgX","name":"Do Androids Dream of Electric Sheep?","type":"scale","hex":"#A51414"},{"id":"d-VwCqI0JP1gqe6YDMrwr","name":"Do Androids Dream of Electric Sheep?","type":"scale","hex":"#F4CF31"}],"geom":"line","height":5,"heightRatio":0.2,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Revenue Across the Selected Date Range","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"dispense_data\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"dispenses\" and r[\"_field\"] == \"cost\")\n  |> group(columns: [\"_measurement\"])\n  |> sort(columns: [\"_time\"])\n  |> cumulativeSum(columns: [\"_value\"])"}],"shade":true,"staticLegend":{"colorizeRows":true,"heightRatio":0.2,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":4,"widthRatio":1,"xCol":"_time","xPos":8,"yCol":"_value"},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","label":"Total Weight","name":"y","scale":"linear","suffix":"g"}],"colorizeRows":true,"colors":[{"id":"eNuSLrJeHkG0wYlFJaCU3","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"8xCRglUldMgwi9-cmFI4Z","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"WUtDI4yz6uQR454HYxgXU","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":5,"heightRatio":0.2,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":-1,"name":"Stock Dispensed for Each Product by Selected Date Range","opacity":1,"orientationThreshold":-1,"position":"overlaid","queries":[{"query":"from(bucket: \"dispense_data\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"dispenses\" and r[\"_field\"] == \"weight\")\n  |> group(columns: [\"product_name\"])\n  |> sort(columns: [\"_time\"])\n  |> cumulativeSum(columns: [\"_value\"])"}],"show":true,"staticLegend":{"colorizeRows":true,"heightRatio":0.2,"show":true,"opacity":1,"orientationThreshold":-1,"valueAxis":"y","widthRatio":1},"valueAxis":"y","width":4,"widthRatio":1,"xCol":"_time","xPos":8,"yCol":"_value","yPos":5}],"name":"Business Overview"}}]